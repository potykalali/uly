<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition template="../../templates/common-template.xhtml"
 	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"> 

<ui:define name="title">Approval</ui:define>

<ui:define name="content">

    <ul class="nav nav-tabs">
      <li><a href="../../index.xhtml">Home</a></li>
      <li><a href="../common/applications.xhtml">Applications</a></li>
      <li class="active"><a href="#">Approval</a></li>
      <li><a href="events.xhtml#">Events</a></li>
    </ul>
	<br></br>	
	<div class="row">
		<div class="col-xs-12">
			<h:form styleClass="form-horizontal">
				<div class="form-group col-sm-2">
					<h:commandButton action="#{approvalMB.approveAll()}" value="Approve All" styleClass="btn btn-default"/>
				</div>
			</h:form>		
			<table class="table table-bordered table-striped">
				<thead>
					<tr>
						<th>Id</th>
						<th>Applicant</th>
						<th>Amount</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<ui:repeat var="app" value="#{approvalMB.getModifiableApplications()}">
						<tr>
							<td>#{app.applicationId}</td>
							<td>#{app.name}</td>
							<td>#{app.amount}</td>
							<td>
								<h:form>
									<h:commandLink action="#{approvalMB.approve(app.applicationId)}" >
									<i class="glyphicon glyphicon-ok"></i>
									</h:commandLink>
								</h:form>					
							</td>
						</tr>
					</ui:repeat>
				</tbody>
			</table>			
		</div>
	</div>
</ui:define>	
</ui:composition>